@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;
  }
}

:root {
  /* ===== BACKGROUND SYSTEM ===== */
  /* Replace ALL instances of ivory (#FFFFF0) with these: */
  --color-bg-base: #F3F5F7;        /* Furthest back layer - main canvas */
  --color-bg-default: #F8F9FA;     /* Default background - Ghost White */
  --color-bg-raised: #FFFFFF;      /* Cards, modals - Pure White */
  --color-bg-overlay: rgba(248, 249, 250, 0.97); /* Overlays with transparency */
  --color-bg-sunken: #EBEEF1;      /* Recessed areas, inputs */
  
  /* ===== CORE PALETTE ===== */
  --color-primary: #3B5998;        /* French Blue - primary actions */
  --color-success: #B7C9A3;        /* Sage Green - success/available */
  --color-info: #6B8CAE;           /* Info Steel - information/focus */
  --color-secondary: #5F7A8E;      /* Slate Blue - secondary/inactive */
  --color-neutral: #C5CCC8;        /* Silver Sage - borders/disabled */
  
  /* ===== COMPLETE COLOR SCALES ===== */
  /* French Blue Scale */
  --french-blue-50: #F0F3F9;
  --french-blue-100: #D6DFF0;
  --french-blue-200: #A8BCDB;
  --french-blue-300: #7A95C6;
  --french-blue-400: #5B79B8;
  --french-blue-500: #3B5998;  /* Primary */
  --french-blue-600: #2C4470;
  --french-blue-700: #1E2F4A;
  --french-blue-800: #141F31;
  --french-blue-900: #0A0F18;
  
  /* Sage Green Scale */
  --sage-green-50: #F5F8F3;
  --sage-green-100: #E8EFE3;
  --sage-green-200: #D0DDBE;
  --sage-green-300: #B7C9A3;  /* Success */
  --sage-green-400: #9FB189;
  --sage-green-500: #87996F;
  --sage-green-600: #6F8155;
  --sage-green-700: #576940;
  
  /* Info Steel Scale */
  --info-steel-50: #F2F5F8;
  --info-steel-100: #E0E7EF;
  --info-steel-200: #B8CAD9;
  --info-steel-300: #8BA4C6;
  --info-steel-400: #6B8CAE;  /* Info */
  --info-steel-500: #4B6C8E;
  --info-steel-600: #3B5570;
  
  /* Slate Blue Scale */
  --slate-blue-50: #F1F3F5;
  --slate-blue-100: #DDE3E8;
  --slate-blue-200: #B5C5D0;
  --slate-blue-300: #8DA7B8;
  --slate-blue-400: #7490A3;
  --slate-blue-500: #5F7A8E;  /* Secondary */
  --slate-blue-600: #4A6179;
  
  /* Silver Sage Scale (Fixed for proper contrast) */
  --silver-sage-50: #FAFBFB;
  --silver-sage-100: #F5F6F6;
  --silver-sage-200: #E5E8E6;
  --silver-sage-300: #C5CCC8;  /* Neutral */
  --silver-sage-400: #A5ACA8;
  --silver-sage-500: #8A918D;  /* Text on light backgrounds */
  --silver-sage-600: #6F7572;
  
  /* ===== SEMANTIC COLORS ===== */
  --color-error: #8B6F7D;
  --color-error-light: #B89FAB;
  --color-warning: #7D8B8C;
  --color-warning-light: #9DABAD;
  --color-urgent: #6B5B7F;
  --color-urgent-light: #8B7B9F;
  
  /* ===== SEMANTIC TOKENS ===== */
  --color-text-primary: var(--french-blue-800);
  --color-text-secondary: var(--slate-blue-600);
  --color-text-muted: var(--silver-sage-500);
  --color-text-disabled: var(--silver-sage-400);
  
  --color-border-default: var(--silver-sage-200);
  --color-border-hover: var(--info-steel-300);
  --color-border-focus: var(--info-steel-400);
  --color-border-error: var(--color-error);
  --color-border-success: var(--sage-green-400);
  
  /* ===== SHADOWS ===== */
  --shadow-xs: 0 1px 2px rgba(95, 122, 142, 0.05);
  --shadow-sm: 0 2px 4px rgba(95, 122, 142, 0.08);
  --shadow-md: 0 4px 12px rgba(95, 122, 142, 0.10);
  --shadow-lg: 0 8px 24px rgba(95, 122, 142, 0.12);
  --shadow-xl: 0 12px 36px rgba(95, 122, 142, 0.15);
  --shadow-focus: 0 0 0 3px rgba(107, 140, 174, 0.25);
  
  /* ===== TRANSITIONS ===== */
  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-base: 250ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 350ms cubic-bezier(0.4, 0, 0.2, 1);

  /* ===== LEGACY COMPATIBILITY ===== */
  /* Keep existing variable names for compatibility while migrating */
  --background: var(--color-bg-default);
  --foreground: var(--color-text-primary);
  --muted: var(--color-bg-sunken);
  --muted-foreground: var(--color-text-muted);
  --popover: var(--color-bg-raised);
  --popover-foreground: var(--color-text-primary);
  --card: var(--color-bg-raised);
  --card-foreground: var(--color-text-primary);
  --border: var(--color-border-default);
  --input: var(--color-border-default);
  --primary: var(--color-primary);
  --primary-foreground: #FFFFFF;
  --secondary: var(--color-secondary);
  --secondary-foreground: #FFFFFF;
  --accent: var(--color-bg-sunken);
  --accent-foreground: var(--color-text-primary);
  --destructive: var(--color-error);
  --destructive-foreground: #FFFFFF;
  --ring: var(--color-border-focus);
  --radius: 0.5rem;

  /* Therapy-themed colors */
  --therapy-primary: #6495ed;
  --therapy-primary-hover: #4a7dd8;
  --therapy-secondary: #87ceeb;
  --therapy-accent: #98d8c8;
  --therapy-muted: #e8f4f8;
  --therapy-text: #1e293b;
  --therapy-success: #86b37d;
  --therapy-warning: #f0ad4e;
  --therapy-error: #dc3545;
}

@layer base {
  * {
    border-color: var(--border);
  }
  body {
    background-color: var(--background);
    color: var(--foreground);
    font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  }
}

/* Apply font globally */
body {
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  background-color: var(--color-bg-default);
  color: var(--color-text-primary);
}

h1, h2, h3, h4, h5, h6 {
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  font-weight: 600;
}

/* Rest of the CSS continues as before... */

.dark {
  /* Keep existing dark mode styles */
}

/* Mobile specific styles for text selection */
@media (max-width: 768px) {
  body {
    -webkit-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
  }
  
  input,
  textarea,
  [contenteditable="true"] {
    -webkit-user-select: text;
    user-select: text;
  }
}

/* Touch-friendly interactive elements */
@media (pointer: coarse) {
  button,
  a,
  input,
  select,
  textarea,
  [role="button"],
  [role="link"] {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Increase padding for better touch targets */
  .btn,
  .button {
    padding: 12px 20px;
  }
}

/* Safe area support for iPhone X and later */
@supports (padding: max(0px)) {
  .safe-area-inset {
    padding-left: max(12px, env(safe-area-inset-left));
    padding-right: max(12px, env(safe-area-inset-right));
    padding-bottom: max(12px, env(safe-area-inset-bottom));
  }
}

/* Additional utility classes for therapy theme */
@layer utilities {
  .therapy-card {
    background-color: white;
    border-radius: 0.5rem;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    padding: 1.5rem;
    transition: all 0.3s;
  }
  
  .therapy-card:hover {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  }
  
  .therapy-button {
    background-color: #6495ed;
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 0.375rem;
    transition: background-color 0.3s;
  }
  
  .therapy-button:hover {
    background-color: #4a7dd8;
  }
  
  .therapy-input {
    border: 1px solid rgb(209 213 219);
    border-radius: 0.375rem;
    padding: 0.5rem 0.75rem;
  }
  
  .therapy-input:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(100, 149, 237, 0.5);
    border-color: transparent;
  }
  
  .therapy-label {
    font-size: 0.875rem;
    font-weight: 500;
    color: rgb(55 65 81);
    margin-bottom: 0.25rem;
    display: block;
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-bg-sunken);
}

::-webkit-scrollbar-thumb {
  background: var(--color-border-default);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-border-hover);
}